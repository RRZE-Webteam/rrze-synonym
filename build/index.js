(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=window.wp.blocks,t=window.React,r=window.wp.i18n,a=window.wp.richText,l=window.wp.blockEditor,o=window.wp.components,s=window.wp.element,y="rrze/synonym";(0,a.registerFormatType)(y,{title:(0,r.__)("Synonym/Acronym","rrze-synonym"),tagName:"abbr",className:"rrze-syn",attributes:{title:"title",lang:"lang","data-pron":"data-pron"},edit:e=>{const{value:n,onChange:i,isActive:c}=e,m=(0,a.getActiveFormat)(n,y),u=m&&m.attributes||{},[_,d]=(0,s.useState)(u.title||""),[p,b]=(0,s.useState)(u.lang||""),[v,z]=(0,s.useState)(u["data-pron"]||""),[g,h]=(0,s.useState)(!1),E=(0,s.useRef)(),S=[{label:(0,r.__)("— none —","rrze-synonym"),value:""},{label:(0,r.__)("German","rrze-synonym"),value:"de"},{label:(0,r.__)("English","rrze-synonym"),value:"en"},{label:(0,r.__)("French","rrze-synonym"),value:"fr"},{label:(0,r.__)("Spanish","rrze-synonym"),value:"es"},{label:(0,r.__)("Russian","rrze-synonym"),value:"ru"},{label:(0,r.__)("Chinese","rrze-synonym"),value:"zh"}];return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.RichTextShortcut,{type:"primaryShift",character:"S",onUse:()=>h(!0)}),(0,t.createElement)("span",{ref:E},(0,t.createElement)(l.RichTextToolbarButton,{icon:"admin-site",title:(0,r.__)("Synonym/Acronym","rrze-synonym"),onClick:()=>h((e=>!e)),isActive:c})),g&&(0,t.createElement)(o.Popover,{anchorRef:E.current,variant:"toolbar",onClose:()=>h(!1)},(0,t.createElement)("div",{style:{padding:12,maxWidth:320}},(0,t.createElement)(o.TextControl,{label:(0,r.__)("Long form (title attribute)","rrze-synonym"),value:_,onChange:d,placeholder:"Universal Resource Locator"}),(0,t.createElement)(o.SelectControl,{label:(0,r.__)("Language (lang)","rrze-synonym"),value:p,onChange:b,options:S}),(0,t.createElement)(o.TextControl,{label:(0,r.__)("Pronunciation (optional)","rrze-synonym"),help:(0,r.__)("Phonetic note, stored as data-pron","rrze-synonym"),value:v,onChange:z,placeholder:"you-are-ell"}),(0,t.createElement)(o.Flex,{style:{marginTop:10},justify:"flex-end",gap:8},c&&(0,t.createElement)(o.FlexItem,null,(0,t.createElement)(o.Button,{variant:"secondary",onClick:()=>{i((0,a.removeFormat)(n,y)),h(!1)}},(0,r.__)("Remove","rrze-synonym"))),(0,t.createElement)(o.FlexItem,null,(0,t.createElement)(o.Button,{variant:"primary",onClick:()=>{const e={title:_||void 0};p&&(e.lang=p),v&&(e["data-pron"]=v),i((0,a.applyFormat)(n,{type:y,attributes:e})),h(!1)}},c?(0,r.__)("Update","rrze-synonym"):(0,r.__)("Apply","rrze-synonym")))))))}});const i=JSON.parse('{"u2":"create-block/rrze-synonym"}'),c=window.wp.data,m=window.wp.serverSideRender;var u=e.n(m);(0,n.registerBlockType)(i.u2,{edit:function({attributes:e,setAttributes:n}){const{register:a,tag:y,id:i,hstart:m,order:_,sort:d,lang:p,additional_class:b,color:v,load_open:z,expand_all_link:g,hide_title:h,hide_accordion:E,synonymstyle:S,synonym:w}=e,f=(0,l.useBlockProps)(),[C,x]=(0,s.useState)([""]),[R,T]=(0,s.useState)([""]),[k,F]=(0,s.useState)([""]),A=(0,c.useSelect)((e=>e("core").getEntityRecords("taxonomy","synonym_category")),[]),q=[{label:(0,r.__)("all","rrze-synonym"),value:""}];A&&Object.values(A).forEach((e=>{q.push({label:e.name,value:e.slug})}));const O=(0,c.useSelect)((e=>e("core").getEntityRecords("taxonomy","synonym_tag")),[]),P=[{label:(0,r.__)("all","rrze-synonym"),value:""}];O&&Object.values(O).forEach((e=>{P.push({label:e.name,value:e.slug})}));const j=(0,c.useSelect)((e=>e("core").getEntityRecords("postType","synonym",{per_page:-1,orderby:"title",order:"asc"})),[]),B=[{label:(0,r.__)("all","rrze-synonym"),value:0}];j&&Object.values(j).forEach((e=>{B.push({label:e.title.rendered?e.title.rendered:(0,r.__)("No title","rrze-synonym"),value:e.id})}));const I=[{label:(0,r.__)("all","rrze-faq"),value:""},{label:(0,r.__)("German","rrze-faq"),value:"de"},{label:(0,r.__)("English","rrze-faq"),value:"en"},{label:(0,r.__)("French","rrze-faq"),value:"fr"},{label:(0,r.__)("Spanish","rrze-faq"),value:"es"},{label:(0,r.__)("Russian","rrze-faq"),value:"ru"},{label:(0,r.__)("Chinese","rrze-faq"),value:"zh"}];return(0,r.__)("-- hidden --","rrze-synonym"),(0,r.__)("A - Z","rrze-synonym"),(0,r.__)("Tagcloud","rrze-synonym"),(0,r.__)("Tabs","rrze-synonym"),(0,r.__)("Title","rrze-synonym"),(0,r.__)("ID","rrze-synonym"),(0,r.__)("Sort field","rrze-synonym"),(0,r.__)("ASC","rrze-synonym"),(0,r.__)("DESC","rrze-synonym"),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(o.PanelBody,null,(0,t.createElement)(o.SelectControl,{label:(0,r.__)("synonym","rrze-synonym"),help:(0,r.__)("Show a selection of individual Synonyms","rrze-synonym"),value:k,options:B,onChange:e=>{F(e),n({id:String(e)})},multiple:!0}),(0,t.createElement)(o.SelectControl,{label:(0,r.__)("Language","rrze-synonym"),help:(0,r.__)("Show only Synonyms matching the selected language.","rrze-synonym"),value:p,options:I,onChange:e=>n({lang:e})}))),(0,t.createElement)("div",{...f},(0,t.createElement)(u(),{block:"create-block/rrze-synonym",attributes:e})))},save:function(){return null}})})();